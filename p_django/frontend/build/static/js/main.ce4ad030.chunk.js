(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{17:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(7),o=n.n(r),l=(n(17),n(25));var s=function(){const[e,t]=Object(a.useState)(null),[n,r]=Object(a.useState)(""),[o,s]=Object(a.useState)([]),i=e=>{const t=e.match(/^(\d{1,8})(\d{8})([\w\/,\s\xd1\xf1\xc1\xc9\xcd\xd3\xda\xe1\xe9\xed\xf3\xfa]+)(\d)(\d+)(APROBADO|DESAPROBADO|RETIRADO)$/u);if(t){const[e,n,a,c,r,o,l]=t;return{success:!0,line:"<linea>\n    <id>".concat(parseInt(n),"</id>\n    <cui>").concat(a,"</cui>\n    <nombres>").concat(c.trim(),"</nombres>\n    <matricula>").concat(r,"</matricula>\n    <nota>").concat(o,"</nota>\n    <estado>").concat(l,"</estado>\n</linea>")}}return{success:!1,reason:"Formato incorrecto o caracteres no soportados"}};return c.a.createElement("div",null,c.a.createElement("input",{type:"file",onChange:e=>{t(e.target.files[0])}})," ",c.a.createElement("button",{onClick:async()=>{const t=new FormData;t.append("pdf",e);let n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SERVER_URL||"https://predictor-project-123.wn.r.appspot.com";try{const e=await l.a.post("".concat(n,"/upload"),t,{headers:{"Content-Type":"multipart/form-data"}}),a=e.data.split("\n"),c=[],o=[];a.forEach(e=>{const t=e.replace(/<\/text>$/,""),n=i(t);n.success?c.push(n.line):o.push({line:t,reason:n.reason})}),r(c.join("\n")),s(o)}catch(a){console.error("Error al subir el archivo:",a)}}},"Upload")," ",c.a.createElement("pre",null,n)," ",o.length>0&&c.a.createElement("div",{className:"error-box"},c.a.createElement("h2",null,"L\xedneas no procesadas:"),c.a.createElement("ul",null,o.map((e,t)=>c.a.createElement("li",{key:t},c.a.createElement("strong",null,"L\xednea:")," ",e.line," ",c.a.createElement("br",null),c.a.createElement("strong",null,"Motivo:")," ",e.reason)))))};n(22);var i=function(){return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement("h1",null,"Convertir PDF a XML")),c.a.createElement("main",{className:"App-main"},c.a.createElement(s,null)),c.a.createElement("footer",{className:"App-footer"},c.a.createElement("p",null,"\xa9 2024 Mi Aplicaci\xf3n")))};var u=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,26)).then(t=>{let{getCLS:n,getFID:a,getFCP:c,getLCP:r,getTTFB:o}=t;n(e),a(e),c(e),r(e),o(e)})};o.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(i,null))),u()},8:function(e,t,n){e.exports=n(23)}},[[8,1,2]]]);
//# sourceMappingURL=main.ce4ad030.chunk.js.map